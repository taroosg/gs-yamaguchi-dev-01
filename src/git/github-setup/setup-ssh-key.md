# SSHéµã®ç™ºè¡Œ

## ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèª

>ğŸ’» ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®æ“ä½œ

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã™ã‚‹ã¨ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã„ã‚‹ã¯ãšã ãŒä¸€å¿œä¸‹è¨˜ã‚’å®Ÿè¡Œï¼

```bash
$ cd ~
```

## ãƒ•ã‚©ãƒ«ãƒ€ã®æº–å‚™

>ğŸ’» ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®æ“ä½œ

- ssh-keyã¯é©åˆ‡ãªå ´æ‰€ã«é…ç½®ã—ãªã„ã¨å‹•ã‹ãªã„ï¼
- ä»¥ä¸‹ã®æ‰‹é †ã§ãƒ•ã‚©ãƒ«ãƒ€ã‚’æº–å‚™ã™ã‚‹ï¼

ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸€è¦§ã‚’è¡¨ç¤ºã™ã‚‹ï¼

```bash
$ ls -a
```

ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ï¼Œã€Œ`.ssh`ã€ãƒ•ã‚©ãƒ«ãƒ€ã‚’æ¢ã™ï¼

**`ã€Œ.sshã€`ãŒå­˜åœ¨ã—ãªã„å ´åˆã®ã¿**ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`.ssh`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã™ã‚‹ï¼

```bash
$ mkdir -p ~/.ssh
```

ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã‘ã‚Œã°OKï¼


## ssh-key ã®ç™ºè¡Œ

>ğŸ’» ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®æ“ä½œ

- GitHubã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ssh-keyãŒå¿…è¦ã¨ãªã‚‹ï¼
- ssh-keyã¯å…¬é–‹éµã¨ç§˜å¯†éµã®ãƒšã‚¢ã«ãªã£ã¦ãŠã‚Šï¼Œã€Œå…¬é–‹éµã‚’GitHubã«ç™»éŒ²ã€ã€Œç§˜å¯†éµã‚’PCã®ãƒ­ãƒ¼ã‚«ãƒ«ã«ä¿å­˜ã€ã™ã‚‹ã“ã¨ã§é€šä¿¡æ™‚ã«çµ„ã¿åˆã‚ã›ãŒã‚ã£ã¦ã„ã‚‹ã‹ã©ã†ã‹åˆ¤æ–­ã™ã‚‹ï¼
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«(windowsã¯GitBash)ã‚’é–‹ã„ã¦ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã™ã‚‹ï¼

ã¾ãšã¯ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’`.ssh`ï¼ˆå‰é …ã§æº–å‚™ã—ãŸãƒ•ã‚©ãƒ«ãƒ€ï¼‰ã«å¤‰æ›´ã™ã‚‹ï¼

```bash
$ cd ~/.ssh
```

ç¶šã„ã¦ï¼Œä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§sshã‚­ãƒ¼ï¼ˆå…¬é–‹éµã¨ç§˜å¯†éµã®ãƒšã‚¢ï¼‰ã‚’ç™ºè¡Œã™ã‚‹ï¼

```bash
$ ssh-keygen
```

å®Ÿè¡Œçµæœ

```bash
Generating public/private rsa key pair.
Enter file in which to save the key (/home/vagrant/.ssh/id_rsa):
```

ä¸Šã®å¾Œã§`github_rsa`ã‚’å…¥åŠ›ã—ã¦Enterï¼

```bash
Enter passphrase (empty for no passphrase):
```

ç¶šãï¼ã¨ã‚Šã‚ãˆãšå…¥åŠ›ã›ãšã«Enterï¼

```bash
Enter same passphrase again:
```

ç¶šãï¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã—ã¦ã„ãªã„ã®ã§å†åº¦ãã®ã¾ã¾Enterï¼

```bash
Your identification has been saved in github_rsa.
Your public key has been saved in github_rsa.pub.
The key fingerprint is:
6f:09:00:22:44:55:66:77:95:89:41:7d:a7:58:1b:92 vagrant@localhost.localdomain
The key's randomart image is:
+--[ RSA 2048]----+
|   .o. .         |
|     oEo+ .      |
|    . +=+=       |
|     o.+==       |
|    . . S .      |
|       - + .     |
|      .   +      |
|         .       |
|                 |
+-----------------+
```

ã“ã‚Œã§ssh-keyã‚’ç™ºè¡Œã§ããŸï¼

### ã€å‚è€ƒã€‘

>ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ç™ºè¡Œã—ãŸå†…å®¹ã‚’ç¢ºèªã§ãã‚‹ã®ã§ï¼Œã†ã¾ãã„ã‹ãªã„å ´åˆã¯ç¢ºèªã—ã¦ã¿ã‚‹ã¨è‰¯ã„ï¼
>
>```bash
>$ ls -la | grep GitHub
>```
>
>ä¸‹è¨˜ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚Œã°OKï¼ï¼ˆç´°ã‹ãªæ–‡å­—åˆ—ã‚„æ•°å€¤ã¯ç•°ãªã£ã¦ã„ã¦OKï¼‰ï¼
>
>```bash
>-rw-------  1 vagrant vagrant 1675 11æœˆ 20 12:18 2014 github_rsa
>-rw-r--r--  1 vagrant vagrant  411 11æœˆ 20 12:18 2014 github_rsa.pub
>```


## sshã‚­ãƒ¼ã®è¨­å®š

>ğŸ’» ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®æ“ä½œ

å¼•ãç¶šãï¼Œä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ssh-keyã‚’å‹•ä½œã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼

```bash
$ eval $(ssh-agent)
```

å®Ÿè¡Œçµæœï¼ˆæ•°å€¤ã¯ç•°ãªã£ã¦ã„ã¦OKï¼‰

```bash
Agent pid 9899
```

ä½œæˆã—ãŸã‚­ãƒ¼ãƒšã‚¢ã‚’ssh-agentã«ç™»éŒ²ã™ã‚‹ï¼

```bash
$ ssh-add ~/.ssh/github_rsa
```

å®Ÿè¡Œçµæœï¼ˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãªã©ã¯ç•°ãªã£ã¦ã„ã¦OKï¼‰

```bash
Identity added: /home/vagrant/.ssh/github_rsa
```

ä»¥ä¸Šã§ssh-keyã®æº–å‚™ã¯å®Œäº†ã ãŒï¼Œè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ã‚’åŠ ãˆã‚‹å¿…è¦ãŒã‚ã‚‹ï¼
